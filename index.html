<html>
<body>
<script src="jquery.min.js"></script>
<script src="springy.js"></script>
<script src="springyui.js"></script>
<script>
var graph = new Springy.Graph();

var node0 = graph.newNode({label: '0'});
var node1 = graph.newNode({label: '1'});
var node2 = graph.newNode({label: '2'});
var node3 = graph.newNode({label: '3'});

graph.newEdge(node0, node1, {color: '#00A0B0'});
graph.newEdge(node0, node2, {color: '#6A4A3C'});
graph.newEdge(node0, node3, {color: '#6A4A3C'});

graph.newEdge(node1, node0, {color: '#00A0B0'});
graph.newEdge(node1, node2, {color: '#6A4A3C'});
graph.newEdge(node1, node3, {color: '#6A4A3C'});

graph.newEdge(node2, node1, {color: '#00A0B0'});
graph.newEdge(node2, node0, {color: '#6A4A3C'});
graph.newEdge(node2, node3, {color: '#6A4A3C'});

graph.newEdge(node3, node0, {color: '#6A4A3C'});
graph.newEdge(node3, node1, {color: '#6A4A3C'});
graph.newEdge(node3, node2, {color: '#6A4A3C'});




jQuery(function(){
  var springy = window.springy = jQuery('#springydemo').springy({
    graph: graph,
    nodeSelected: function(node){
      console.log('Node selected inNeighbours: ');
      for(var i = 0; i < node.inNeighbours.length; i++){

        console.log(JSON.stringify(node.inNeighbours[i].data));

      }


      console.log('Node selected outNeighbours: ');
      for(var i = 0; i < node.outNeighbours.length; i++){

        console.log(JSON.stringify(node.outNeighbours[i].data));

      }
       
    },
    ondoubleclick: function(node){
      
      graph.split(node);
    }
  });
});

function removeByValue(arr, val) {
  for(var i=0; i<arr.length; i++) {
    if(arr[i] == val) {
      arr.splice(i, 1);
      break;
    }
  }
}

//merge click
function button_onclick(){
    var temp = $('#mergePoint').val();//获取值
    graph.merge(temp);
}
</script>
<input type="text" name="user" value="" id="mergePoint" />
<input type="button" value="merge" onclick="javascript:button_onclick();"  />

<canvas id="springydemo" width="640" height="480" />
</body>
</html>
